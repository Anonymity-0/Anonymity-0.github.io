{{ define "main" }}
<div class="hx:w-full hx:break-words hx:flex hx:min-h-[calc(100vh-var(--navbar-height))] hx:min-w-0 hx:justify-center hx:pb-8 hx:pr-[calc(env(safe-area-inset-right)-1.5rem)]">
  <main class="hx:w-full hx:min-w-0 hx:max-w-6xl hx:px-6 hx:pt-4 hx:md:px-12">
    <!-- 页面标题 -->
    <div class="hx:mb-8">
      <h1 class="hx:text-3xl hx:font-bold hx:text-gray-900 hx:dark:text-gray-100 hx:mb-4">{{ .Title }}</h1>
    </div>

    <!-- 文章列表 -->
    <div class="posts-list">
      {{ $paginator := .Paginate .Pages }}
      {{ range $paginator.Pages }}
      <article class="post-item hx:mb-6 hx:p-6 hx:bg-white hx:dark:bg-gray-800 hx:rounded-lg hx:shadow-sm hx:border hx:border-gray-200 hx:dark:border-gray-700 hx:hover:shadow-md hx:transition-shadow hx:duration-200">
        <div class="hx:flex hx:flex-col hx:md:flex-row hx:md:items-center hx:md:justify-between">
          <div class="hx:flex-1">
            <!-- 文章标题 -->
            <h2 class="hx:text-xl hx:font-semibold hx:mb-3">
              <a href="{{ .Permalink }}" class="hx:text-gray-900 hx:dark:text-gray-100 hx:hover:text-blue-600 hx:dark:hover:text-blue-400 hx:transition-colors hx:duration-200">
                {{ .Title }}
              </a>
            </h2>

            <!-- 文章元信息 -->
            <div class="hx:flex hx:flex-wrap hx:items-center hx:gap-4 hx:text-sm hx:text-gray-500 hx:dark:text-gray-500">
              <!-- 分类 -->
              {{ if .Params.categories }}
              <div class="hx:flex hx:items-center hx:gap-1">
                <svg class="hx:w-4 hx:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                </svg>
                <span>{{ index .Params.categories 0 }}</span>
              </div>
              {{ end }}

              <!-- 发布日期 -->
              <div class="hx:flex hx:items-center hx:gap-1">
                <svg class="hx:w-4 hx:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                </svg>
                <time datetime="{{ .Date.Format "2006-01-02" }}">
                  {{ .Date.Format "2006年01月02日" }}
                </time>
              </div>

              <!-- 字数统计 -->
              {{ if .WordCount }}
              <div class="hx:flex hx:items-center hx:gap-1">
                <svg class="hx:w-4 hx:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
                <span>{{ .WordCount }} 字</span>
              </div>
              {{ end }}

              <!-- 阅读时间 -->
              {{ if .ReadingTime }}
              <div class="hx:flex hx:items-center hx:gap-1">
                <svg class="hx:w-4 hx:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <span>{{ .ReadingTime }} 分钟阅读</span>
              </div>
              {{ end }}
            </div>
          </div>

          <!-- 标签 -->
          {{ if .Params.tags }}
          <div class="hx:flex hx:flex-wrap hx:gap-2 hx:mt-3 hx:md:mt-0 hx:md:ml-4">
            {{ range .Params.tags }}
            <span class="hx:inline-flex hx:items-center hx:px-2.5 hx:py-0.5 hx:rounded-full hx:text-xs hx:font-medium hx:bg-blue-100 hx:text-blue-800 hx:dark:bg-blue-900 hx:dark:text-blue-200">
              {{ . }}
            </span>
            {{ end }}
          </div>
          {{ end }}
        </div>
      </article>
      {{ end }}
    </div>

    <!-- 分页导航 -->
    {{ if gt $paginator.TotalPages 1 }}
    <nav class="hx:flex hx:justify-center hx:mt-12">
      <div class="hx:flex hx:items-center hx:space-x-2">
        {{ if $paginator.HasPrev }}
        <a href="{{ $paginator.Prev.URL }}" class="hx:px-3 hx:py-2 hx:text-sm hx:font-medium hx:text-gray-500 hx:bg-white hx:border hx:border-gray-300 hx:rounded-md hx:hover:bg-gray-50 hx:dark:bg-gray-800 hx:dark:border-gray-600 hx:dark:text-gray-400 hx:dark:hover:bg-gray-700">
          上一页
        </a>
        {{ end }}

        <span class="hx:px-3 hx:py-2 hx:text-sm hx:font-medium hx:text-gray-700 hx:dark:text-gray-300">
          第 {{ $paginator.PageNumber }} 页，共 {{ $paginator.TotalPages }} 页
        </span>

        {{ if $paginator.HasNext }}
        <a href="{{ $paginator.Next.URL }}" class="hx:px-3 hx:py-2 hx:text-sm hx:font-medium hx:text-gray-500 hx:bg-white hx:border hx:border-gray-300 hx:rounded-md hx:hover:bg-gray-50 hx:dark:bg-gray-800 hx:dark:border-gray-600 hx:dark:text-gray-400 hx:dark:hover:bg-gray-700">
          下一页
        </a>
        {{ end }}
      </div>
    </nav>
    {{ end }}
  </main>
</div>

<!-- 加载导航栏增强脚本 -->
<script src="{{ "js/navbar-enhancement.js" | relURL }}"></script>
{{ end }}