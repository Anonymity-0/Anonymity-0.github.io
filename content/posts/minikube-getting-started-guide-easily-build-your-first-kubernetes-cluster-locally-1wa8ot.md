---
title: Minikube å…¥é—¨æŒ‡å—ï¼šåœ¨æœ¬åœ°è½»æ¾æ­å»ºä½ çš„ç¬¬ä¸€ä¸ª Kubernetes é›†ç¾¤
slug: >-
  minikube-getting-started-guide-easily-build-your-first-kubernetes-cluster-locally-1wa8ot
url: >-
  /post/minikube-getting-started-guide-easily-build-your-first-kubernetes-cluster-locally-1wa8ot.html
date: '2025-06-29 01:44:30+08:00'
lastmod: '2025-06-29 15:01:04+08:00'
categories:
  - Kubernetes
toc: true
isCJKLanguage: true
---



# Minikube å…¥é—¨æŒ‡å—ï¼šåœ¨æœ¬åœ°è½»æ¾æ­å»ºä½ çš„ç¬¬ä¸€ä¸ª Kubernetes é›†ç¾¤

æƒ³è¦å­¦ä¹ å’Œä½¿ç”¨ Kubernetes (K8s)ï¼Œä½†è¢«ç”Ÿäº§ç¯å¢ƒå¤æ‚çš„é›†ç¾¤æ­å»ºæµç¨‹åŠé€€ï¼Ÿåˆ«æ‹…å¿ƒï¼Œå¯¹äºå¼€å‘è€…å’Œå­¦ä¹ è€…æ¥è¯´ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå®Œç¾çš„å·¥å…·â€”â€”**Minikube**ã€‚

Minikube æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ Kubernetes å‘è¡Œç‰ˆï¼Œå®ƒèƒ½è®©åœ¨ä½ çš„ä¸ªäººç”µè„‘ä¸Šï¼Œè½»æ¾è¿è¡Œä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„å•èŠ‚ç‚¹ K8s é›†ç¾¤ã€‚

![image](/images/image-20250629014530-3wyht32.png)

### ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ Minikubeï¼Ÿç”Ÿäº§ç¯å¢ƒ vs. æœ¬åœ°å¼€å‘

åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä¸€ä¸ªå…¸å‹çš„ Kubernetes é›†ç¾¤ä¸ºäº†ä¿è¯é«˜å¯ç”¨æ€§å’Œè´Ÿè½½å‡è¡¡ï¼Œé€šå¸¸ç”±å¤šä¸ªèŠ‚ç‚¹ï¼ˆç‰©ç†æœåŠ¡å™¨æˆ–è™šæ‹Ÿæœºï¼‰ç»„æˆã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªåŒ…å«ä¸¤ä¸ª Master èŠ‚ç‚¹å’Œä¸‰ä¸ª Worker èŠ‚ç‚¹çš„é›†ç¾¤ï¼Œå°±éœ€è¦äº”å°ç‹¬ç«‹çš„æœåŠ¡å™¨ã€‚

![image](/images/image-20250629021347-3dqqgmd.png)

ç„¶è€Œï¼Œåœ¨ä¸ªäººç”µè„‘ä¸Šå¤åˆ»è¿™æ ·ä¸€å¥—ç¯å¢ƒï¼Œä¸ä»…å¯¹ç¡¬ä»¶èµ„æºæ˜¯å·¨å¤§çš„è€ƒéªŒï¼Œå…¶ç½‘ç»œå’Œå­˜å‚¨çš„é…ç½®è¿‡ç¨‹ä¹Ÿç›¸å½“å¤æ‚ï¼Œæœ‰æ—¶ç”šè‡³æ˜¯ä¸å¯èƒ½å®Œæˆçš„ä»»åŠ¡ã€‚

è¿™æ—¶ï¼Œ**Minikube** å°±é—ªäº®ç™»åœºäº†ã€‚å®ƒä¸ºæˆ‘ä»¬è§£å†³äº†ä»¥ä¸‹ç—›ç‚¹ï¼š

1. **ç®€åŒ–éƒ¨ç½²**ï¼šä¸€é”®å¯åŠ¨ä¸€ä¸ªè¿è¡Œåœ¨è™šæ‹Ÿæœºæˆ–å®¹å™¨å†…çš„å•èŠ‚ç‚¹ K8s é›†ç¾¤ã€‚
2. **èµ„æºå‹å¥½**ï¼šå¯¹æœ¬åœ°ç¡¬ä»¶èµ„æºè¦æ±‚ä½ï¼Œéå¸¸é€‚åˆæ—¥å¸¸å¼€å‘å’Œå­¦ä¹ ã€‚
3. **ç¯å¢ƒéš”ç¦»**ï¼šæ‰€æœ‰ç»„ä»¶éƒ½è¿è¡Œåœ¨éš”ç¦»ç¯å¢ƒä¸­ï¼Œä¸å½±å“æœ¬åœ°ç³»ç»Ÿã€‚
4. **åŠŸèƒ½å®Œå¤‡**ï¼šå¯ä»¥æ¨¡æ‹Ÿç”Ÿäº§ç¯å¢ƒï¼Œè¿›è¡Œåº”ç”¨å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²éªŒè¯ã€‚

> **é™¤äº† Minikubeï¼Œè¿˜æœ‰å“ªäº›é€‰æ‹©ï¼Ÿ**   
> ç¤¾åŒºä¸­è¿˜æœ‰å…¶ä»–ä¼˜ç§€çš„æœ¬åœ° K8s å·¥å…·ï¼Œå¦‚ **k3s/k3d**, **Kind** ç­‰ã€‚å®ƒä»¬å„æœ‰ç‰¹ç‚¹ï¼Œä½† Minikube å› å…¶ç¨³å®šæ€§å’Œæ˜“ç”¨æ€§ï¼Œæˆä¸ºäº†è®¸å¤šäººå…¥é—¨çš„é¦–é€‰ã€‚

![image](/images/image-20250629022536-opk9f28.png)

### Minikube ä¸ kubectlï¼šç®¡ç†é›†ç¾¤çš„é»„é‡‘æ­æ¡£

æ­å»ºå¥½é›†ç¾¤åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªå·¥å…·æ¥ä¸å®ƒâ€œå¯¹è¯â€ã€‚è¿™ä¸ªå·¥å…·å°±æ˜¯ `kubectl`â€‹ã€‚

è¿˜è®°å¾—æˆ‘ä»¬åœ¨[ä¸Šä¸€ç¯‡æ–‡ç« ](ä½ çš„ä¸Šä¸€ç¯‡æ–‡ç« é“¾æ¥)ä¸­æåˆ°çš„ K8s æ¶æ„å—ï¼ŸMaster èŠ‚ç‚¹ä¸Šçš„ **API Server** æ˜¯æ•´ä¸ªé›†ç¾¤çš„ç»Ÿä¸€å…¥å£å’Œæ§åˆ¶ä¸­å¿ƒã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼ä¸ API Server äº¤äº’ï¼š

- **Dashboard**ï¼šå›¾å½¢åŒ–ç•Œé¢ã€‚
- **kubectl**ï¼šå‘½ä»¤è¡Œå·¥å…·ã€‚
- **API è°ƒç”¨**ï¼šé€šè¿‡ç¨‹åºä»£ç ç›´æ¥è°ƒç”¨å…¶æ¥å£ã€‚

![image](/images/image-20250629143202-exwxiuf.png)

åœ¨è¿™å‡ ç§æ–¹å¼ä¸­ï¼Œ`kubectl`â€‹ æ˜¯åŠŸèƒ½æœ€å¼ºå¤§ã€ä½¿ç”¨æœ€å¹¿æ³›çš„å·¥å…·ã€‚å®ƒå…è®¸ä½ é€šè¿‡å‘½ä»¤è¡Œè¾“å…¥æŒ‡ä»¤ï¼Œæ¥ç®¡ç†é›†ç¾¤ä¸­çš„æ‰€æœ‰èµ„æºï¼ˆå¦‚ Pod, Service, Deployment ç­‰ï¼‰ã€‚æ›´æ£’çš„æ˜¯ï¼Œ`kubectl`â€‹ ä¸ä»…å¯ä»¥ç®¡ç†æœ¬åœ°çš„ Minikube é›†ç¾¤ï¼Œåªè¦é…ç½®å¥½è®¿é—®å‡­è¯ï¼Œä½ å°±å¯ä»¥ç”¨å®ƒä¸**ä»»ä½•åœ°æ–¹**çš„ Kubernetes é›†ç¾¤è¿›è¡Œäº¤äº’ã€‚

### å®æˆ˜æ¼”ç»ƒï¼šå®‰è£…å¹¶å¯åŠ¨ä½ çš„ç¬¬ä¸€ä¸ª Minikube é›†ç¾¤

ä¸‹é¢ï¼Œè®©æˆ‘ä»¬åŠ¨æ‰‹å®è·µï¼Œä»é›¶åˆ°ä¸€å¯åŠ¨ä½ çš„ Minikube é›†ç¾¤ã€‚

#### ç¬¬ä¸€æ­¥ï¼šå®‰è£… Minikube

å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ macOS å¹¶å®‰è£…äº† Homebrewï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š

```bash
brew install minikube
```

> **æç¤º**ï¼šMinikube ä¾èµ– `kubectl`â€‹ æ¥è¿›è¡Œäº¤äº’ã€‚ä½¿ç”¨ Homebrew å®‰è£… Minikube æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨å°† `kubectl`â€‹ ä½œä¸ºä¾èµ–é¡¹ä¸€å¹¶å®‰è£…ï¼Œéå¸¸æ–¹ä¾¿ã€‚

å®‰è£…å®Œæˆåï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤éªŒè¯æ˜¯å¦æˆåŠŸï¼š

```bash
minikube version
```

å¦‚æœèƒ½çœ‹åˆ°ç‰ˆæœ¬å·è¾“å‡ºï¼Œè¯´æ˜ Minikube å·²ç»æˆåŠŸå®‰è£…ã€‚ä½ ä¹Ÿå¯ä»¥è¾“å…¥ `minikube`â€‹ æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„å‘½ä»¤ã€‚

![image](/images/image-20250629143858-o3taitj.png)

#### ç¬¬äºŒæ­¥ï¼šå¯åŠ¨ Minikube é›†ç¾¤

å‡†å¤‡å°±ç»ªåï¼Œæ‰§è¡Œ `start`â€‹ å‘½ä»¤æ¥å¯åŠ¨ä½ çš„æœ¬åœ° K8s é›†ç¾¤ï¼š

```bash
minikube start
```

è¿™ä¸ªè¿‡ç¨‹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼Œå› ä¸ºå®ƒéœ€è¦ä»ç½‘ç»œä¸Šä¸‹è½½æ‰€éœ€çš„é•œåƒå’Œç»„ä»¶ã€‚

>  **ğŸ’¡ å°è´´å£«ï¼šåŠ é€Ÿä¸‹è½½**  
> å¦‚æœä½ å‘ç°ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢ï¼Œå¯ä»¥æŒ‡å®šä½¿ç”¨å›½å†…çš„é•œåƒæºæ¥åŠ é€Ÿï¼š
>
> ```bash
> minikube start --image-mirror-country=cn
> ```

#### ç¬¬ä¸‰æ­¥ï¼šéªŒè¯é›†ç¾¤çŠ¶æ€

å½“ `start`â€‹ å‘½ä»¤æˆåŠŸç»“æŸåï¼Œä½ çš„å•èŠ‚ç‚¹ K8s é›†ç¾¤å°±å·²ç»åœ¨åå°è¿è¡Œäº†ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä¸¤ä¸ªå‘½ä»¤æ¥éªŒè¯å®ƒçš„çŠ¶æ€ï¼š

1. **æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹**ï¼šä½¿ç”¨ `kubectl`â€‹ æ¥çœ‹çœ‹æˆ‘ä»¬çš„é›†ç¾¤é‡Œæœ‰å“ªäº›èŠ‚ç‚¹ã€‚

    ```bash
    kubectl get nodes
    ```

    ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªåä¸º `minikube`â€‹ çš„èŠ‚ç‚¹ï¼Œå…¶çŠ¶æ€ä¸º `Ready`â€‹ã€‚
2. **æŸ¥çœ‹ Minikube çŠ¶æ€**ï¼šä½¿ç”¨ `minikube`â€‹ è‡ªå¸¦çš„ `status`â€‹ å‘½ä»¤ã€‚

    ```bash
    minikube status
    ```

    å®ƒä¼šæ¸…æ™°åœ°å±•ç¤ºå‡º Minikube å„ä¸ªç»„ä»¶ï¼ˆå¦‚ host, kubelet, apiserverï¼‰çš„è¿è¡ŒçŠ¶æ€ã€‚

â€
