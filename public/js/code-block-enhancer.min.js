(function(){"use strict";function e(){const e=document.querySelectorAll(".chroma");e.forEach(function(e){e.classList.remove("long-code-block");const t=e.querySelector(".lntable");if(t){const n=e.querySelectorAll(".ln, .lnt"),t=n.length;if(t>=6){e.classList.add("long-code-block");const n=document.documentElement.getAttribute("data-scheme")==="dark",s=n?"#161b22":"#2c3548",o=n?"#e6edf3":"#e8eaf0";e.style.setProperty("background",s,"important"),e.style.setProperty("color",o,"important");const i=e.querySelectorAll("*");i.forEach(e=>{e.style.setProperty("background","transparent","important"),e.style.setProperty("background-color","transparent","important")});const a=e.querySelectorAll(".ln, .lnt");a.forEach(e=>{e.style.setProperty("background","transparent","important"),e.style.setProperty("background-color","transparent","important"),e.style.setProperty("color",n?"rgba(255,255,255,0.6)":"rgba(255,255,255,0.7)","important")}),console.log(`长代码块：${t} 行，已直接设置统一背景`)}else console.log(`短代码块：${t} 行，保持浅色背景`)}else{const t=e.querySelectorAll(".line");if(t.length>=6){e.classList.add("long-code-block");const n=document.documentElement.getAttribute("data-scheme")==="dark",s=n?"#161b22":"#2c3548",o=n?"#e6edf3":"#e8eaf0";e.style.setProperty("background",s,"important"),e.style.setProperty("color",o,"important");const i=e.querySelectorAll("*");i.forEach(e=>{e.style.setProperty("background","transparent","important"),e.style.setProperty("background-color","transparent","important")}),console.log(`长代码块：${t.length} 行（无行号），已直接设置统一背景`)}}})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e();const t=new MutationObserver(function(t){t.forEach(function(t){t.type==="attributes"&&t.attributeName==="data-scheme"&&setTimeout(e,100)})});t.observe(document.documentElement,{attributes:!0,attributeFilter:["data-scheme"]})})()